<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitwave Soko Wifi - Get Connected</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800&family=Outfit:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles003.css">
</head>
<body>
    <div class="app">
        <!-- Floating Header -->
        <header class="header">
            <div class="header-inner">
                <div class="brand">
                    <span class="brand-icon">üì°</span>
                    <div class="brand-text">
                        <h1 class="logo">Bitwave Soko</h1>
                        <span class="tagline">Market WiFi</span>
                    </div>
                </div>
                <a href="tel:0795635364" class="help-btn">
                    <span class="help-icon">üìû</span>
                    <span class="help-text">Help</span>
                </a>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main" id="mainContent">
            
            <!-- Plans Section -->
            <section class="plans-section" id="plansSection">
                
                <!-- Featured Marketplace Ads - Horizontal Scroll -->
                <div class="marketplace-showcase">
                    <div class="showcase-header">
                        <h3 class="showcase-title">üõí Soko Deals Today</h3>
                        <span class="showcase-badge">AD</span>
                    </div>
                    <div class="showcase-scroll" id="showcaseScroll">
                        <!-- Ads loaded dynamically from backend via ads.js -->
                        <!-- Skeleton loaders shown while loading -->
                        <div class="product-card ad-skeleton">
                            <div class="product-image skeleton-shimmer"></div>
                            <div class="product-info">
                                <div class="skeleton-text"></div>
                                <div class="skeleton-text short"></div>
                            </div>
                        </div>
                        <div class="product-card ad-skeleton">
                            <div class="product-image skeleton-shimmer"></div>
                            <div class="product-info">
                                <div class="skeleton-text"></div>
                                <div class="skeleton-text short"></div>
                            </div>
                        </div>
                        <div class="product-card ad-skeleton">
                            <div class="product-image skeleton-shimmer"></div>
                            <div class="product-info">
                                <div class="skeleton-text"></div>
                                <div class="skeleton-text short"></div>
                            </div>
                        </div>

                        <a href="tel:0795635364" class="product-card ad-cta-card">
                            <div class="ad-cta-content">
                                <div class="ad-cta-icon">+</div>
                                <span class="ad-cta-text">Your Ad Here</span>
                            </div>
                        </a>
                    </div>
                    <div class="scroll-hint">
                        <span>‚Üê Swipe for more deals ‚Üí</span>
                    </div>
                </div>

                <!-- Quick Instructions -->
                <div class="quick-steps">
                    <div class="step">
                        <span class="step-num">1</span>
                        <span class="step-text">Pick Plan</span>
                    </div>
                    <div class="step-arrow">‚Üí</div>
                    <div class="step">
                        <span class="step-num">2</span>
                        <span class="step-text">Enter Phone</span>
                    </div>
                    <div class="step-arrow">‚Üí</div>
                    <div class="step">
                        <span class="step-num">3</span>
                        <span class="step-text">Pay & Connect</span>
                    </div>
                </div>

                <!-- Plans Grid -->
                <h2 class="section-title">Choose Your Plan</h2>
                
                <div class="plans-grid" id="plansGrid">
                    <!-- Skeleton loaders while loading -->
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                </div>

                <!-- Floating Ad Banner - Inline with experience -->
                <div class="inline-promo">
                    <div class="promo-content">
                        <div class="promo-icon">üè†</div>
                        <div class="promo-text">
                            <strong>Need Home WiFi?</strong>
                            <span>Professional installation from KSH 2,000/month</span>
                        </div>
                        <a href="tel:0795635364" class="promo-action">Call Now</a>
                    </div>
                </div>

            </section>

            <!-- Payment Section (Hidden Initially) -->
            <section class="payment-section hidden" id="paymentSection">
                <button class="back-button" id="backButton">
                    <span class="back-arrow">‚Üê</span>
                    <span>Back to Plans</span>
                </button>
                
                <div class="selected-plan-card" id="selectedPlanInfo">
                    <!-- Selected plan details will appear here -->
                </div>

                <form class="payment-form" id="paymentForm">
                    <div class="form-header">
                        <span class="form-icon">üì±</span>
                        <h2>Enter Your Number</h2>
                        <p>You'll receive an M-Pesa prompt</p>
                    </div>
                    
                    <div class="form-group">
                        <div class="input-wrapper">
                            <span class="input-prefix">+254</span>
                            <input 
                                type="tel" 
                                id="phoneNumber" 
                                name="phoneNumber" 
                                class="form-input" 
                                placeholder="7XX XXX XXX"
                                required
                                autocomplete="tel"
                                maxlength="10"
                                pattern="0[17][0-9]{8}"
                            >
                        </div>
                        <p class="input-hint">Enter 10 digits starting with 07 or 01</p>
                    </div>

                    <button type="submit" class="submit-button" id="submitButton">
                        <span class="button-text">Pay with M-Pesa</span>
                        <span class="button-loader hidden">
                            <span class="loader-spinner"></span>
                            Processing...
                        </span>
                    </button>

                    <div class="security-note">
                        <span>üîí</span> Secure payment via Safaricom M-Pesa
                    </div>
                </form>

                <!-- Mini Ad during payment -->
                <div class="payment-ad">
                    <div class="payment-ad-header">While you wait...</div>
                    <div class="mini-products" id="miniProducts">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </section>

            <!-- Success Section (Hidden Initially) -->
            <section class="success-section hidden" id="successSection">
                <div class="success-card">
                    <div class="success-animation">
                        <div class="checkmark-circle">
                            <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                                <circle class="checkmark-bg" cx="26" cy="26" r="25" fill="none"/>
                                <path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                            </svg>
                        </div>
                    </div>
                    <h2 class="success-title">You're Connected! üéâ</h2>
                    <p class="success-message" id="successMessage"></p>
                    <button class="primary-button" id="newPurchaseButton">Buy More Time</button>
                </div>
            </section>

            <!-- Error Section (Hidden Initially) -->
            <section class="error-section hidden" id="errorSection">
                <div class="error-card">
                    <div class="error-icon">‚ùå</div>
                    <h2 class="error-title">Payment Failed</h2>
                    <p class="error-message" id="errorMessage"></p>
                    <button class="primary-button" id="retryButton">Try Again</button>
                    <a href="tel:0795635364" class="help-link">Need help? Call 0795635364</a>
                </div>
            </section>

        </main>

        <!-- Sticky Footer Ad - Only shows when scrolled -->
        <div class="sticky-footer-ad" id="stickyAd">
            <div class="sticky-ad-content">
                <img src="images/tomatoes-thumb.jpg" alt="Featured" class="sticky-ad-img">
                <div class="sticky-ad-text">
                    <strong>Today's Special!</strong>
                    <span>Fresh produce at Stall 42</span>
                </div>
                <button class="sticky-ad-close" onclick="document.getElementById('stickyAd').classList.add('hidden')">√ó</button>
            </div>
        </div>

        <!-- Ad Details Modal -->
        <div class="ad-modal-overlay hidden" id="adModalOverlay">
            <div class="ad-modal" id="adModal">
                <button class="ad-modal-close" id="adModalClose" aria-label="Close">
                    <span>√ó</span>
                </button>
                
                <div class="ad-modal-content">
                    <!-- Image Section -->
                    <div class="ad-modal-image" id="adModalImage">
                        <img src="" alt="" id="adModalImg">
                        <span class="ad-modal-badge" id="adModalBadge"></span>
                    </div>
                    
                    <!-- Info Section -->
                    <div class="ad-modal-info">
                        <span class="ad-modal-tag">SPONSORED</span>
                        <h2 class="ad-modal-title" id="adModalTitle"></h2>
                        <p class="ad-modal-description" id="adModalDescription"></p>
                        
                        <div class="ad-modal-seller">
                            <span class="seller-icon">üìç</span>
                            <div class="seller-details">
                                <span class="seller-name" id="adModalSeller"></span>
                                <span class="seller-location" id="adModalLocation"></span>
                            </div>
                        </div>
                        
                        <div class="ad-modal-price-section">
                            <span class="ad-modal-label">Price</span>
                            <span class="ad-modal-price" id="adModalPrice"></span>
                        </div>
                        
                        <!-- Contact Section -->
                        <div class="ad-modal-contact">
                            <a href="" class="ad-contact-btn ad-contact-call" id="adModalCallBtn">
                                <span class="contact-icon">üìû</span>
                                <div class="contact-text">
                                    <span class="contact-label">Call Seller</span>
                                    <span class="contact-number" id="adModalPhone"></span>
                                </div>
                            </a>
                        </div>
                        
                        <div class="ad-modal-footer">
                            <span class="ad-views" id="adModalViews">üëÅÔ∏è <span>0</span> views</span>
                            <span class="ad-id" id="adModalId">Ad #</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="script003.js"></script>
    <script src="ads.js"></script>
</body>
</html>
